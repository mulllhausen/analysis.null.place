{# make pelican variables available to js #}
<script>
if (typeof siteGlobals === 'undefined') var siteGlobals = {};
siteGlobals.sitename = '{{ SITENAME }}';
siteGlobals.sitenameASCIIArt = "{{ SITENAME_ASCIIART | replace('\\', '\\\\') | replace('!', '"') | replace('\n', '\\n" +\n') }}";
siteGlobals.siteURL = '{{ SITEURL }}';
siteGlobals.githubURL = '{{ GITHUB_URL }}';
siteGlobals.facebookAppID = '{{ FACEBOOK_APP_ID }}';
siteGlobals.disqusSiteName = '{{ DISQUS_SITENAME }}';
siteGlobals.commentsPlatforms = [
    {%- if FACEBOOK_APP_ID %}'FB',{% endif -%}
    {%- if DISQUS_SITENAME %}'Disqus'{% endif -%}
];
{% if article %}
    if (!siteGlobals.hasOwnProperty('article')) siteGlobals.article = {};
    {% if article.title %}siteGlobals.article.title = '{{ article.title }}';{% endif %}
    {% if article.url %}siteGlobals.article.url = '{{ article.url }}';{% endif %}
    {% if article.console_explain_scripts %}siteGlobals.article.consoleExplainScripts = '{{ article.console_explain_scripts }}';{% endif %}
{% endif %}
</script>
