{# make pelican variables available to js #}
<script>
var siteGlobals = {
    sitename: '{{ SITENAME }}',
    sitenameASCIIArt: "{{ SITENAME_ASCIIART | replace('\\', '\\\\') | replace('!', '"') | replace('\n', '\\n" +\n') }}",
    siteURL: '{{ SITEURL }}',
    githubURL: '{{ GITHUB_URL }}',
    facebookAppID: '{{ FACEBOOK_APP_ID }}',
    disqusSiteName: '{{ DISQUS_SITENAME }}',
    googleAdClient: '{{ GOOGLE_AD_CLIENT }}',
    enableAds: {% if (page and page.no_ads) %}false{% else %}true{% endif %},
    commentsPlatforms: [
        {%- if FACEBOOK_APP_ID %}'FB'{% endif -%}
        {%- if DISQUS_SITENAME %},'Disqus'{% endif -%}
    ],
    {% if article %}
    article: {
        {%- if article.title %}title: '{{ article.title }}'{% endif -%}
        {%- if article.url %}, url: '{{ article.url }}'{% endif -%}
        {%- if article.parent_article_url %}, parentArticleURL: '{{ article.parent_article_url }}'{% endif -%}
        {%- if article.console_explain_scripts %}, consoleExplainScripts: '{{ article.console_explain_scripts }}'{% endif -%}
    },
    {% elif (page and page.page_as_sub_article) %}
    article: {
        {%- if page.title %}title: '{{ page.small_title }}'{% endif -%}
        {%- if page.url %}, url: '{{ page.url }}'{% endif -%}
        {%- if page.parent_article_url %}, parentArticleURL: '{{ page.parent_article_url }}'{% endif -%}
        {%- if page.console_explain_scripts %}, consoleExplainScripts: '{{ page.console_explain_scripts }}'{% endif -%}
    },
    {% endif %}
    {% if DEBUG1 %}debugging: true,{% endif %}
    events: {}
};
</script>
